<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<!-- 
		 onsubmit="return inputConfirm()"
		 当return是一个false的话，咱们的数据是提交不到action后面的地址的
		 当return 是一个true的话，才会提交到咱们action地址里面
		 -->
		<form action="10弹框效果.html" onsubmit="return inputConfirm()">
			姓名:<input type="text" name="user" id="nid" onfocus="clearAttr()"/>
			<span id="nameAttr" class="attr"></span>
			<br>
			
			手机号码:<input type="text" name="phone" id="tid" onfocus="clearAttr()"/>
			<span id="phoneAttr" class="attr"></span><br>
			<input type="submit" value="注册"/>
			
		</form>
		
	</body>
	<script>
		function inputConfirm () {
			var nameInput = document.getElementById("nid")
			var telInput = document.getElementById("tid")
			//获取input输入框中数据
			var name = nameInput.value
			//判断名字是否合法
			if (name == null || name == "") {
				//name 不合法
				var span = document.getElementById("nameAttr")
				span.innerHTML = "名字不能为空"
				span.style.color = "red"
				//不合法就不能带着数据跳转到另外一个页面
				return false;
			}
			//判断手机号码
			var tel = telInput.value
			if (tel == null || tel == "") {
				//手机号码不合法
				var span = document.getElementById("phoneAttr")
				span.innerHTML = "手机号码不能为空"
				span.style.color = "red"
				//不合法就不能带着数据跳转到另外一个页面
				return false;
			}
			//手机号码不合法的验证
			var reg = /^1[3456789]\d{9}$/
			if (!reg.test(tel)) {
				//手机号码不合法的情况
				var span = document.getElementById("phoneAttr")
				span.innerHTML = "手机号码不合法"
				span.style.color = "red"
				//不合法就不能带着数据跳转到另外一个页面
				return false;
			}
			return true;
		}
		function clearAttr() {
			var spans = document.getElementsByClassName("attr")
			for (var i = 0;i < spans.length;i++) {
				spans[i].innerHTML = ""
			}
		}
	</script>
</html>
